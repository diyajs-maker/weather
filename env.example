# ============================================
# Heat-Cool Savings Portal - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# DO NOT commit .env.local to version control

# ============================================
# Database (Neon Postgres)
# ============================================
# Get these from Neon Dashboard or Vercel Dashboard → Storage → Neon
# If you had an existing Vercel Postgres database, it was migrated to Neon automatically
# For new databases, create a Neon database from Vercel Marketplace or directly at neon.tech
# Required for all database operations
POSTGRES_URL=postgres://user:password@host:port/database
POSTGRES_PRISMA_URL=postgres://user:password@host:port/database?pgbouncer=true
POSTGRES_URL_NON_POOLING=postgres://user:password@host:port/database

# ============================================
# Authentication
# ============================================
# Generate a secure random string for JWT token signing
# Use: openssl rand -base64 32
# Required for user authentication
JWT_SECRET=your-secret-key-here-change-this-to-a-random-string

# ============================================
# Cron Jobs Security
# ============================================
# Secret key to protect cron job endpoints from unauthorized access
# Use: openssl rand -base64 32
# Required for cron job endpoints
CRON_SECRET=your-cron-secret-here-change-this-to-a-random-string

# ============================================
# SMS Service (Twilio)
# ============================================
# Get these from Twilio Console: https://console.twilio.com
# Required for SMS notifications (Milestone 2)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# Email Service (SendGrid)
# ============================================
# Get API key from SendGrid Dashboard → Settings → API Keys
# Verify sender email in SendGrid before using
# Required for email notifications (Milestone 2)
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# File Storage (Vercel Blob)
# ============================================
# Get from Vercel Dashboard → Storage → Blob
# Required for photo uploads and PDF reports (Milestone 2 & 4)
BLOB_READ_WRITE_TOKEN=vercel_blob_xxxxx

# ============================================
# Application URL
# ============================================
# Public URL of your application (used for upload links in messages)
# For local development: http://localhost:3000
# For production: https://your-domain.vercel.app
# Required for generating secure upload links
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Weather API (National Weather Service)
# ============================================
# NWS API is free and doesn't require an API key
# Base URL for NWS API (usually doesn't need to be changed)
NWS_API_BASE=https://api.weather.gov

# ============================================
# Optional: OpenWeather API (if used)
# ============================================
# Only needed if you're using OpenWeather API instead of NWS
# Leave empty if using NWS (recommended)
# OPENWEATHER_API_KEY=your_openweather_api_key

# ============================================
# Notes
# ============================================
# 1. Never commit .env.local to version control
# 2. Generate secure secrets using: openssl rand -base64 32
# 3. For production, set these in Vercel Dashboard → Settings → Environment Variables
# 4. Restart your dev server after changing environment variables
# 5. All variables marked as "Required" must be set for the application to function
